import{r as u}from"./index.WFquGv8Z.js";var h={exports:{}},d={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E;function j(){if(E)return d;E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,n){var i=null;if(n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),"key"in s){n={};for(var c in s)c!=="key"&&(n[c]=s[c])}else n=s;return s=n.ref,{$$typeof:e,type:a,key:i,ref:s!==void 0?s:null,props:n}}return d.Fragment=t,d.jsx=r,d.jsxs=r,d}var S;function _(){return S||(S=1,h.exports=j()),h.exports}var o=_();const A=1,R=1e6;let v=0;function O(){return v=(v+1)%Number.MAX_SAFE_INTEGER,v.toString()}const b=new Map,g=e=>{if(b.has(e))return;const t=setTimeout(()=>{b.delete(e),m({type:"REMOVE_TOAST",toastId:e})},R);b.set(e,t)},N=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,A)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?g(r):e.toasts.forEach(a=>{g(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},p=[];let x={toasts:[]};function m(e){x=N(x,e),p.forEach(t=>{t(x)})}function w({...e}){const t=O(),r=s=>m({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>m({type:"DISMISS_TOAST",toastId:t});return m({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function D(){const[e,t]=u.useState(x);return u.useEffect(()=>(p.push(t),()=>{const r=p.indexOf(t);r>-1&&p.splice(r,1)}),[e]),{...e,toast:w,dismiss:r=>m({type:"DISMISS_TOAST",toastId:r})}}async function I(e,t){const s=await fetch("https://app.convertkit.com/forms/9cb686a188/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email_address:e,first_name:t})});if(!s.ok){const n=s.headers.get("content-type");if(n&&n.includes("application/json")){const i=await s.json();throw new Error(i.message||"Erro ao se inscrever no ConvertKit")}else{const i=await s.text();throw console.error("Erro ConvertKit (não-JSON):",i),new Error("Erro na integração com ConvertKit")}}return{success:!0}}const k=()=>{const[e,t]=u.useState(""),[r,a]=u.useState(""),[s,n]=u.useState(!1),{toast:i}=D(),c=l=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l),y=async(l,T,M=1)=>{if(!l.trim()){i({title:"Email obrigatório",description:"Por favor, insira seu email.",variant:"destructive"});return}if(!c(l)){i({title:"Email inválido",description:"Por favor, insira um email válido.",variant:"destructive"});return}n(!0);try{await I(l,T),i({title:"Você está na lista!",description:"Avisaremos quando a comunidade abrir."}),t(""),a("")}catch(f){console.error("Erro na inscrição:",f),i({title:"Erro ao se inscrever",description:f instanceof Error?f.message:"Ocorreu um erro inesperado. Tente novamente mais tarde.",variant:"destructive"})}finally{n(!1)}};return o.jsx(o.Fragment,{children:o.jsx("section",{id:"formulario",className:"px-6 py-20 lg:py-32","aria-labelledby":"signup-title",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{id:"signup-title",className:"text-2xl md:text-4xl font-bold mb-3",children:"A comunidade está chegando"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-xl mx-auto",children:"Deixe seu email para ser avisado em primeira mão."})]}),o.jsx("form",{className:"p-8 rounded-xl bg-card border border-border",onSubmit:l=>{l.preventDefault(),y(r,e)},children:o.jsxs("fieldset",{className:"space-y-4",children:[o.jsx("legend",{className:"text-xl font-bold text-center mb-6",children:"Quero participar"}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"name",children:"Nome"}),o.jsx("input",{type:"text",className:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background placeholder:text-aztec-600 md:text-sm mt-1",id:"name",placeholder:"preencha seu nome",minLength:3,required:!0,value:e,onChange:l=>t(l.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"email-pilot",children:"Email"}),o.jsx("input",{type:"email",className:"flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background placeholder:text-aztec-600 md:text-sm mt-1",id:"email-pilot",placeholder:"seu@email.com",maxLength:255,value:r,onChange:l=>a(l.target.value)})]}),o.jsx("button",{className:"inline-flex w-full items-center justify-center bg-primary hover:bg-primary/90 rounded-md text-lg px-10 py-6 h-auto text-aztec-950 font-extrabold transition-colors",type:"submit",id:"quero-fazer-parte",disabled:s,children:s?"Enviando...":"Quero fazer parte da comunidade"})]})}),o.jsxs("p",{className:"text-muted-foreground mt-12 text-lg text-center italic",children:['"Se você quer construir software que respeita gente,',o.jsx("br",{}),'a conversa começa aqui."']})]})})})};export{k as default};
